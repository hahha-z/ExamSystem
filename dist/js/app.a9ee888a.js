(function(){"use strict";var t={4855:function(t,e,s){s(4114);var n=s(6848),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],o={name:"App"},r=o,u=s(1656),c=(0,u.A)(r,a,i,!1,null,null,null),l=c.exports,d=s(6178),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("div",{staticClass:"login-box"},[e("h1",{staticClass:"title"},[t._v("线上考试系统")]),e("h2",{staticClass:"gate"},[t._v("学生端")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[e("div",{staticClass:"form-item"},[e("label",{attrs:{for:"account"}},[t._v("账号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{id:"account",type:"text",placeholder:"请输入账号"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("label",{attrs:{for:"password"}},[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"login-button",attrs:{type:"submit"}},[t._v("登录")])])])])},p=[],m={data(){return{account:"",password:""}},methods:{async handleLogin(){try{this.$router.push("/student/studentinfo")}catch(t){console.error("登录失败",t)}}}},v=m,f=(0,u.A)(v,h,p,!1,null,"81df2a50",null),_=f.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("div",{staticClass:"login-box"},[e("h1",{staticClass:"title"},[t._v("线上考试系统")]),e("h2",{staticClass:"gate"},[t._v("老师端")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[e("div",{staticClass:"form-item"},[e("label",{attrs:{for:"account"}},[t._v("账号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{id:"account",type:"text",placeholder:"请输入账号"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("label",{attrs:{for:"password"}},[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"login-button",attrs:{type:"submit"}},[t._v("登录")])])])])},b=[],C={data(){return{account:"",password:""}},methods:{async handleLogin(){try{this.$router.push("/teacher/teacherinfo")}catch(t){console.error("登录失败",t)}}}},I=C,x=(0,u.A)(I,g,b,!1,null,"0c8b8317",null),y=x.exports,w=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"student-page"}},[e("BaseTem",{staticClass:"student-base",attrs:{navItems:t.studentNav}})],1)},q=[],k=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"base-tem"}},[t._m(0),e("div",{staticClass:"main-container"},[e("nav",{staticClass:"nav-container"},t._l(t.navItems,(function(s){return e("router-link",{key:s.path,staticClass:"nav-item",attrs:{to:s.path,"active-class":"active"}},[t._v(" "+t._s(s.title)+" ")])})),1)]),t._v(" 右侧内容区 "),e("div",{staticClass:"content"},[e("router-view")],1)])},S=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"header"},[e("h1",{staticClass:"title"},[t._v("线上考试平台")])])}],A={name:"BaseTem",props:{navItems:{type:Array,required:!0}}},Q=A,T=(0,u.A)(Q,k,S,!1,null,"723433ca",null),E=T.exports,N={name:"StudentPage",components:{BaseTem:E},data(){return{studentNav:[{path:"/student/studentinfo",title:"学生信息"},{path:"/student/examinfo",title:"我的考试"}]}}},P=N,L=(0,u.A)(P,w,q,!1,null,null,null),M=L.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"student-info-container",attrs:{id:"student-info"}},[e("h2",[t._v("学生个人信息")]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("学号:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.studentInfo.stuId))])]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("姓名:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.studentInfo.name))])]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("性别:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.studentInfo.sex))])]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("手机号:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.studentInfo.phone,expression:"studentInfo.phone"}],staticClass:"info-input",attrs:{type:"tel",placeholder:"请输入新手机号"},domProps:{value:t.studentInfo.phone},on:{input:function(e){e.target.composing||t.$set(t.studentInfo,"phone",e.target.value)}}})]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("所在学院:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.studentInfo.collegeName))])]),e("div",{staticClass:"info-item"},[e("button",{staticClass:"save-btn",attrs:{disabled:!t.isPhoneChanged},on:{click:t.savePhoneNumber}},[t._v(" "+t._s(t.saveLoading?"保存中...":"保存修改")+" ")])])])},O=[],$=s(4373);const D=$.A.create({baseURL:"api",timeout:1e4,headers:{"Content-Type":"application/json;charset=UTF-8"}});D.interceptors.request.use((t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t}),(t=>(console.log("请求拦截错误：",t),Promise.reject(t)))),D.interceptors.response.use((t=>{const e=t.data;return 200!==e.code?(alert(e.message||"请求失败"),401===e.code&&(localStorage.removeItem("token"),localStorage.removeItem("stuId"),localStorage.removeItem("workId"),Ht.push("/")),Promise.reject(new Error(e.message||"请求失败"))):e}),(t=>{console.error("响应错误",t);let e="网络错误，请稍后再试";return t.response&&t.response.data&&(e=t.response.data.message||e),alert(e),t.response&&(localStorage.removeItem("token"),localStorage.removeItem("stuId"),localStorage.removeItem("workId")),Promise.reject(t)}));var B=D,U={name:"StudentInfo",data(){return{studentInfo:{stuId:"2024101",name:"小红",sex:"女",phone:"15007126301",collegeName:"公共管理学院"},originalPhone:"",saveLoading:!1}},computed:{isPhoneChanged(){return this.studentInfo.phone!==this.originalPhone}},created(){},methods:{async fetchStudentInfo(){try{this.stuId=localStorage.getItem("stuId");const t=await B({url:"/student/listPage",method:"GET",data:{param:{studentId:this.stuId}}});this.studentInfo={...t.data[0],phone:t.data[0].phone||""},this.originalPhone=this.studentInfo.phone}catch(t){console.error("获取信息失败:",t)}},async savePhoneNumber(){try{this.saveLoading=!0;const t=await B.post("/student/updataP",{stuId:this.studentInfo.stuId,phone:this.studentInfo.phone});200===t.code&&(this.originalPhone=this.studentInfo.phone,alert("手机号更新成功！"))}catch(t){console.error("保存失败:",t),alert("手机号更新失败，请重试")}finally{this.saveLoading=!1}}}},V=U,J=(0,u.A)(V,j,O,!1,null,"027e3a58",null),z=J.exports,F=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"exam-info"}},[e("h2",[t._v("我的考试")]),e("table",{staticClass:"exam-table"},[t._m(0),e("tbody",t._l(t.exams,(function(s){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.subject))]),e("td",[t._v(t._s(s.hasTaken))]),e("td",[t._v(t._s(s.score||"-"))]),e("td",["未考"===s.hasTaken?e("button",{on:{click:function(e){return t.enterExam(s.id)}}},[t._v("进入考试")]):t._e()]),e("td",["已考"===s.hasTaken?e("button",{on:{click:function(e){return t.retakeExam(s.id)}}},[t._v("进入重考")]):t._e()])])})),0)])])},H=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("考试科目")]),e("th",[t._v("考试状态")]),e("th",[t._v("考试分数")]),e("th",[t._v("进入考试")]),e("th",[t._v("进入重考")])])])}],R=(s(8111),s(116),s(1701),{data(){return{exams:[{id:1,subject:"数学",hasTaken:"未考",score:null},{id:2,subject:"英语",hasTaken:"已考",score:85}],subjectMap:{1:"语文",2:"数学",3:"英语",4:"java",5:"javascript",6:"化学"},hasTakenMap:{0:"未考",1:"已考"}}},mounted(){this.score=this.$route.query.score},methods:{async getExamsData(){try{const t=localStorage.getItem("stuId"),e=await B({url:"/course/select",method:"POST",data:{param:{studentId:t}}}),s=e.data;this.exams=s.map((t=>({id:t.id,subject:this.subjectMap[t.id],score:t.score,hasTaken:this.hasTakenMap[t.hasTaken]||"-"})))}catch(t){console.error("数据获取失败",t)}},enterExam(t){this.$router.push({path:"/toexam/student",query:{examId:t}})},retakeExam(t){const e=this.exams.find((e=>e.id===t));e&&(e.score=null,e.hasTaken=0),this.enterExam(t)}}}),Y=R,G=(0,u.A)(Y,F,H,!1,null,"e11cfcf4",null),K=G.exports,W=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"teacher-page"}},[e("div",{attrs:{id:"teacher-page"}},[e("BaseTem",{staticClass:"teacher-base",attrs:{navItems:t.teacherNav}})],1)])},X=[],Z={name:"TeacherPage",components:{BaseTem:E},data(){return{teacherNav:[{path:"/teacher/teacherinfo",title:"老师信息"},{path:"/teacher/courseexams",title:"我的课程"},{path:"/teacher/subques",title:"试卷题目"},{path:"/teacher/teststatus",title:"考试情况"}]}}},tt=Z,et=(0,u.A)(tt,W,X,!1,null,null,null),st=et.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"course-table-container"},[e("h2",{staticClass:"table-title"},[t._v("课程列表")]),e("table",{staticClass:"course-table"},[t._m(0),e("tbody",t._l(t.courseList,(function(s){return e("tr",{key:s.id,staticClass:"table-row"},[e("td",{staticClass:"table-cell"},[t._v(t._s(s.name))]),e("td",{staticClass:"table-cell"},[t._v(t._s(s.time))]),e("td",{staticClass:"table-cell"},[t._v(t._s(s.class))])])})),0)]),0===t.courseList.length?e("div",{staticClass:"empty-tip"},[t._v("暂无课程数据")]):t._e()])},at=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("课程名称")]),e("th",[t._v("课程时间")]),e("th",[t._v("课程班级")])])])}],it={data(){return{courseData:{},courseList:[]}},mounted(){this.courseData={code:200,message:"获取数据成功",data:{courses:[{id:1,name:"语文",time:"2025-06-05",class:"高三1班"},{id:2,name:"数学",time:"2025-06-06",class:"高三1班"}],total:2}},this.courseList=this.courseData.data.courses},methods:{}},ot=it,rt=(0,u.A)(ot,nt,at,!1,null,"7d919f09",null),ut=rt.exports,ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"teacher-info-container",attrs:{id:"teacher-info"}},[e("h2",[t._v("教师个人信息")]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("工号:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.teacherInfo.workId))])]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("姓名:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.teacherInfo.name))])]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("性别:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.teacherInfo.sex))])]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("手机号:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.teacherInfo.phone))])]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("所在学院:")]),e("span",{staticClass:"info-value"},[t._v(t._s(t.teacherInfo.collegeName))])]),e("div",{staticClass:"info-item"},[e("label",{staticClass:"info-label"},[t._v("教授课程:")]),e("ul",{staticClass:"course-list"},t._l(t.teacherInfo.teachCourseId,(function(s,n){return e("li",{key:n},[t._v(" "+t._s(s)+" ")])})),0)])])},lt=[],dt={name:"TeacherInfo",data(){return{teacherInfo:{workId:2024315220222,name:"刘老师",sex:"女",phone:1234567890,collegeName:"公共管理学院",teachCourseId:["Java","JavaScript"]}}},created(){this.fetchInfo()},methods:{async fetchInfo(){try{const t=this.teacherInfo.teachCourseId;t&&(1===t||2===t||3===t||4===t||5===t||6===t)&&this.teachCourseId}catch(t){console.error("获取信息失败",t)}}}},ht=dt,pt=(0,u.A)(ht,ct,lt,!1,null,"b8df14c4",null),mt=pt.exports,vt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"teacher-question-list"}},[t.loading?e("div",{staticClass:"loading"},[e("div",{staticClass:"spinner"}),e("p",[t._v("加载中...")])]):e("div",[t._l(t.currentPageQuestions,(function(s,n){return e("div",{key:s.id},[t.editMode[n]?t._e():e("QuestionCom",{attrs:{currentQuestion:s,selectedAnswer:""}}),t.editMode[n]?e("QuestionEditor",{attrs:{questionData:s},on:{"update-question":function(e){return t.updateQuestion(n,e)},"cancel-editing":function(e){return t.cancelEdit(n)},"delete-question":function(e){return t.deleteQuestion(e)}}}):t._e(),e("div",{staticClass:"edit-buttons"},[t.editMode[n]?t._e():e("button",{staticClass:"btn edit",on:{click:function(e){return t.startEdit(n)}}},[t._v(" 编辑题目 ")]),t.editMode[n]?e("button",{staticClass:"btn back",on:{click:function(e){return t.cancelEdit(n)}}},[t._v(" 返回查看 ")]):t._e()])],1)})),e("div",{staticClass:"pagination"},[e("button",{staticClass:"btn",attrs:{disabled:1===t.pageNum},on:{click:t.prevPage}},[t._v(" 上一页 ")]),e("button",{staticClass:"btn",attrs:{disabled:t.pageNum>=t.totalPages},on:{click:t.nextPage}},[t._v(" 下一页 ")])]),e("button",{staticClass:"btn add-question",on:{click:t.addQuestion}},[t._v(" + 新增题目 ")]),e("button",{staticClass:"btn submit-btn",on:{click:t.saveAllChanges}},[t._v(" 提交修改 ")])],2)])},ft=[],_t=(s(2489),function(){var t=this,e=t._self._c;return e("div",{staticClass:"question-container"},[e("h2",[t._v(t._s(t.currentQuestion.question))]),e("div",{staticClass:"options"},t._l(t.currentQuestion.options,(function(s,n){return e("div",{key:n,staticClass:"option",class:{selected:t.selectedAnswer===s},on:{click:function(e){return t.selectAnswer(s)}}},[t._v(" "+t._s(String.fromCharCode(65+n))+". "+t._s(s)+" ")])})),0)])}),gt=[],bt={props:{currentQuestion:{type:Object,required:!0},selectedAnswer:{type:String,default:""}},methods:{selectAnswer(t){this.$emit("answer-selected",t)}}},Ct=bt,It=(0,u.A)(Ct,_t,gt,!1,null,null,null),xt=It.exports,yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"question-editor"},[e("div",{staticClass:"edit-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedQuestion.question,expression:"editedQuestion.question"}],staticClass:"question-input",attrs:{placeholder:"输入题目内容"},domProps:{value:t.editedQuestion.question},on:{input:function(e){e.target.composing||t.$set(t.editedQuestion,"question",e.target.value)}}}),e("div",{staticClass:"options-edit"},[t._l(t.editedQuestion.options,(function(s,n){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedQuestion.options[n],expression:"editedQuestion.options[index]"}],key:n,staticClass:"option-input",attrs:{placeholder:"选项内容"},domProps:{value:t.editedQuestion.options[n]},on:{input:function(e){e.target.composing||t.$set(t.editedQuestion.options,n,e.target.value)}}})})),e("button",{staticClass:"btn add",on:{click:t.addOption}},[t._v("+ 新增选项")]),t.editedQuestion.options.length>2?e("button",{staticClass:"btn remove",on:{click:t.removeOption}},[t._v("- 移除选项")]):t._e()],2)]),e("div",{staticClass:"action-buttons"},[e("button",{staticClass:"btn save",on:{click:t.saveQuestion}},[t._v("保存修改")]),e("button",{staticClass:"btn cancel",on:{click:t.cancelEdit}},[t._v("取消编辑")]),e("button",{staticClass:"btn danger",on:{click:t.deleteQuestion}},[t._v("删除题目")])])])},wt=[],qt={name:"QuestionEditor",props:{questionData:{type:Object,required:!0,default:()=>({id:"",question:"",options:[]})}},data(){return{editedQuestion:{...this.questionData},originalQuestion:null}},created(){this.originalQuestion={...this.questionData}},watch:{questionData(t){this.editedQuestion={...t},this.originalQuestion={...t}}},methods:{addOption(){this.editedQuestion.options.push("")},removeOption(){this.editedQuestion.options.length>2&&this.editedQuestion.options.pop()},saveQuestion(){this.$emit("update-question",this.editedQuestion)},cancelEdit(){this.editedQuestion={...this.originalQuestion},this.$emit("cancel-editing")},deleteQuestion(){this.$emit("delete-question",this.editedQuestion.id)}}},kt=qt,St=(0,u.A)(kt,yt,wt,!1,null,"070f1ee2",null),At=St.exports,Qt={name:"TeacherQuestionList",components:{QuestionCom:xt,QuestionEditor:At},data(){return{workId:"T001",courseId:1,pageNum:1,pageSize:5,total:5,questions:[{id:"1",question:"下列哪个是JavaScript的基本数据类型？",options:["String","Array","Object","Function"],answer:"String"},{id:"2",question:"HTML的全称是什么？",options:["Hyper Text Markup Language","Home Tool Markup Language","Hyperlinks and Text Markup Language","Hyper Tool Markup Language"],answer:"Hyper Text Markup Language"},{id:"3",question:"CSS中，如何选择所有p元素？",options:["p {}",".p {}","#p {}","*p {}"],answer:"p {}"},{id:"4",question:"下列哪个不是JavaScript的循环语句？",options:["for","while","do...while","loop"],answer:"loop"},{id:"5",question:"在Vue中，v-if指令的作用是什么？",options:["循环渲染元素","条件渲染元素","绑定样式","绑定事件"],answer:"条件渲染元素"}],editMode:[],loading:!1,addingNew:!1}},computed:{currentPageQuestions(){const t=(this.pageNum-1)*this.pageSize;return this.questions.slice(t,t+this.pageSize)},totalPages(){return Math.ceil(this.total/this.pageSize)}},created(){this.workId=localStorage.getItem("workId"),this.courseId=this.$route.query.courseId},methods:{async fetchQuestions(){this.loading=!0;try{const t=await B.post("/exam-question/listPage",{courseId:this.courseId,pageNum:this.pageNum,pageSize:this.pageSize});t?(this.questions=t.data,this.editMode=this.questions.map((()=>!1))):alert(t.message||"获取题目失败")}catch(t){console.error("获取题目失败",t)}finally{this.loading=!1}},startEdit(t){this.editMode[t]=!0},cancelEdit(t){this.editMode[t]=!1},updateQuestion(t,e){this.questions[t]=e,this.editMode[t]=!1},deleteQuestion(t){confirm("确定删除该题目？")&&(this.questions=this.questions.filter((e=>e.id!==t)),this.total=this.questions.length,this.editMode=this.editMode.filter(((t,e)=>this.questions[e])))},addQuestion(){const t={id:Date.now().toString(),question:"新增题目内容",options:["选项A","选项B"]};this.questions.unshift(t),this.total=this.questions.length,this.editMode.unshift(!0)},prevPage(){this.pageNum>1&&(this.pageNum--,this.fetchQuestions())},nextPage(){this.pageNum<this.totalPages&&(this.pageNum++,this.fetchQuestions())},async saveAllChanges(){try{const t=await B.post("/api/teacher/questions/save",{workId:this.workId,questions:this.questions});200===t.code?alert("提交成功！"):alert(t.message||"提交失败")}catch(t){console.error("提交失败",t),alert("网络错误，请重试")}}}},Tt=Qt,Et=(0,u.A)(Tt,vt,ft,!1,null,"8bf48244",null),Nt=Et.exports,Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"teacher-exam-dashboard"},[e("h3",[t._v(t._s(t.courseNameMap[t.currentCourse.courseId])+"考试信息")]),t.isLoading?e("div",{staticClass:"loading-container"},[e("div",{staticClass:"custom-spinner"}),e("span",{staticClass:"loading-text"},[t._v("正在加载考试数据...")])]):t.workId?e("div",[t.currentCourse.studentExamData&&t.currentCourse.studentExamData.length?e("table",{staticClass:"exam-table"},[t._m(0),e("tbody",t._l(t.currentCourse.studentExamData,(function(s){return e("tr",{key:s.studentId},[e("td",[t._v(t._s(s.studentName))]),e("td",[t._v(t._s(s.studentId))]),e("td",[e("span",{class:t.statusClass(s.hastaken)},[t._v(" "+t._s(t.examStatusText(s.hastaken))+" ")])]),e("td",[t._v(t._s(t.formatScore(s.latestScore)))]),e("td",[s.allScores&&s.allScores.length?e("span",{staticClass:"scores-list"},[t._v(" "+t._s(s.allScores.join("、"))+"分 ")]):e("span",[t._v("-")])])])})),0)]):e("div",{staticClass:"empty-tip"},[t._v(" "+t._s(t.courseNameMap[t.currentCourse.courseId])+" 课程暂无学生考试数据 ")])]):e("div",{staticClass:"permission-tip"},[t._v(" 未获取到教师身份信息，请重新登录 ")])])},Lt=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("学生姓名")]),e("th",[t._v("学生号")]),e("th",[t._v("考试状态")]),e("th",[t._v("最近成绩")]),e("th",[t._v("所有成绩")])])])}],Mt={data(){return{workId:"20241001",currentCourse:{courseId:1,studentExamData:[{studentId:2024101,studentName:"喜羊羊",hastaken:0,latestScore:null,allScores:null},{studentId:2024102,studentName:"美羊羊",hastaken:1,latestScore:90,allScores:[80,85,90]},{studentId:2024103,studentName:"懒羊羊",hastaken:1,latestScore:95,allScores:[80,90]}]},isLoading:!1,courseNameMap:{1:"语文",2:"数学",3:"英语",4:"java",5:"javascript",6:"化学"}}},created(){this.initCourseIdFromRoute()},methods:{initCourseIdFromRoute(){const t=1;t&&(this.currentCourse.courseId=Number(t))},examStatusText(t){return 1===t?"已考":"未考"},statusClass(t){return{"status-completed":1===t,"status-pending":0===t}},formatScore(t){return null!==t?`${t}分`:"-"}}},jt=Mt,Ot=(0,u.A)(jt,Pt,Lt,!1,null,"cb7891b0",null),$t=Ot.exports,Dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"exam-container"},[t._m(0),t.isExamActive?e("div",{staticClass:"timer"},[t._v("剩余时间: "+t._s(t.formattedTime))]):t._e(),e("QuestionCom",{attrs:{currentQuestion:t.questionList[t.currentIndex],selectedAnswer:t.selectedAnswers[t.questionList[t.currentIndex].questionId]},on:{"answer-selected":e=>t.selectAnswer(t.questionList[t.currentIndex].questionId,e)}}),t.isExamActive?e("div",{staticClass:"navigation-buttons"},[e("button",{attrs:{disabled:0===t.currentIndex||t.isTimeUp},on:{click:t.previousQuestion}},[t._v(" 上一题 ")]),e("button",{attrs:{disabled:t.currentIndex===t.questionList.length-1||t.isTimeUp},on:{click:t.nextQuestion}},[t._v(" "+t._s(t.currentIndex===t.questionList.length-1?"提交试卷":"下一题")+" ")])]):t._e()],1)},Bt=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"exam-header"},[e("h1",[t._v("线上考试系统")])])}],Ut={components:{QuestionCom:xt},data(){return{courseId:1,questionList:[],currentIndex:0,selectedAnswers:[],timeLeft:3600,timer:null,isTimeUp:!1,isExamActive:!0}},mounted(){this.courseId=this.$route.query.examId,this.fetchQuestions(),this.startTimer()},computed:{formattedTime(){const t=Math.floor(this.timeLeft/60),e=this.timeLeft%60;return`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}},methods:{async fetchQuestions(){this.questionList=[{questionId:1,question:"JavaScript是什么类型的语言？",options:["编译型语言","解释型语言","汇编语言","标记语言"],correctAnswer:"B",explanation:"JavaScript是一种动态类型的解释型语言，由浏览器解释执行。"},{questionId:2,question:"Vue.js是由哪位开发者创建的？",options:["React团队","Evan You","Angular团队","Facebook团队"],correctAnswer:"B",explanation:"Vue.js是由Evan You于2014年创建的渐进式JavaScript框架。"},{questionId:3,question:"以下哪个不是ES6新增的特性？",options:["箭头函数","类继承","let/const","Promise"],correctAnswer:"B",explanation:"类继承在ES6之前就存在，ES6只是对其进行了语法改进。"},{questionId:4,question:"Vue组件间通信方式有哪些？",options:["props和$emit","Vuex","Event Bus","以上都是"],correctAnswer:"D",explanation:"Vue组件间通信方式包括props/$emit、Vuex、Event Bus、$refs等。"},{questionId:5,question:"以下哪个是Vue的生命周期钩子？",options:["mounted","compiled","linked","attached"],correctAnswer:"A",explanation:"mounted是Vue的标准生命周期钩子，表示DOM已挂载完成。"}]},startTimer(){this.timer=setInterval((()=>{this.timeLeft>0?this.timeLeft--:this.timeIsUp()}),1e3)},timeIsUp(){clearInterval(this.timer),this.isTimeUp=!0,this.submitExam()},selectAnswer(t,e){this.isTimeUp||(this.selectedAnswers[t]=e)},previousQuestion(){this.currentIndex>0&&this.currentIndex--},nextQuestion(){this.currentIndex<this.questionList.length-1?this.currentIndex++:this.submitExam()},async submitExam(){this.isExamActive=!1,clearInterval(this.timer);const t={data:{score:80,correctAnswers:[1,3,5],userAnswers:{1:"B",2:"A",3:"B",4:"D",5:"A"},feedback:"考试已完成，你的得分是80分，继续努力！"}};this.score=t.data.score,this.$router.push({path:"/student/examinfo",query:{score:this.score,details:JSON.stringify(t.data)}})}},beforeDestroy(){clearInterval(this.timer)}},Vt=Ut,Jt=(0,u.A)(Vt,Dt,Bt,!1,null,null,null),zt=Jt.exports;const Ft=new d.Ay({routes:[{path:"/login/student",name:"mystudent",component:_},{path:"/login/teacher",name:"myteacher",component:y},{path:"/student",component:M,redirect:"/student/studentinfo",children:[{path:"studentinfo",name:"StudentInfo",component:z},{path:"examinfo",name:"ExamInfo",component:K}]},{path:"/teacher",component:st,redirect:"/teacher/teacherinfo",children:[{path:"teacherinfo",name:"TeacherInfo",component:mt},{path:"courseexams",name:"CourseExams",component:ut},{path:"subques",name:"SubQues",component:Nt,children:[{path:"questioneditor",name:"QuestionEditor",component:At}]},{path:"teststatus",name:"TestStatus",component:$t}]},{path:"/toexam/student",name:"ToExam",component:zt}]});Ft.beforeEach(((t,e,s)=>{const n=localStorage.getItem("roleId"),a=localStorage.getItem("token");if("/"===t.path)return s();void 0!==t.meta.requireRole?a&&n?Number(n)===t.meta.requireRole?s():s(alert("无权限")):s("/"):s()}));var Ht=Ft,Rt=s(3518);n.Ay.use(Rt.Ay);const Yt={},Gt={},Kt={};var Wt=new Rt.Ay.Store({actions:Yt,mutations:Gt,state:Kt});n.Ay.config.productionTip=!1,n.Ay.use(d.Ay),new n.Ay({render:t=>t(l),beforeCreate(){n.Ay.prototype.$bus=this},store:Wt,router:Ht}).$mount("#app");const Xt=d.Ay.prototype.push;d.Ay.prototype.push=function(t){return Xt.call(this,t).catch((t=>t))}}},e={};function s(n){var a=e[n];if(void 0!==a)return a.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,n,a,i){if(!n){var o=1/0;for(l=0;l<t.length;l++){n=t[l][0],a=t[l][1],i=t[l][2];for(var r=!0,u=0;u<n.length;u++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](n[u])}))?n.splice(u--,1):(r=!1,i<o&&(o=i));if(r){t.splice(l--,1);var c=a();void 0!==c&&(e=c)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,a,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,i,o=n[0],r=n[1],u=n[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(u)var l=u(s)}for(e&&e(n);c<o.length;c++)i=o[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(l)},n=self["webpackChunkvue_system"]=self["webpackChunkvue_system"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(4855)}));n=s.O(n)})();
//# sourceMappingURL=app.a9ee888a.js.map